
package robominions;

option java_package = "au.id.katharos.robominions.api";
option java_outer_classname = "RobotApi";


import "materials.proto";


message RobotRequest {
  optional string name = 1;
  optional int32 key = 2;

  // Pick one, cannot be both an action and a read.
  optional RobotReadRequest read_request = 3;
  optional RobotActionRequest action_request = 4;
}

message RobotReadRequest {
	// Query the solidness of a block
	// Query the Material type of a block
	// Find location of Entity
}

message RobotActionRequest {
  
  enum Direction {
    UP = 0;
    DOWN = 1;
    LEFT = 2;
    RIGHT = 3;
    FORWARD = 4;
    BACKWARD = 5;
    EAST = 6;
    WEST = 7;
    NORTH = 8;
    SOUTH = 9;
  }
  
  optional Direction move_direction = 2;
  optional Direction turn_direction = 3;
  optional Direction mine_direction = 4;
  
  optional Direction place_direction = 5;
  optional Material place_material = 6;
}

message RobotResponse {
  optional int32 key = 3;
  optional bool success = 1;
  optional ErrorMessage error_message = 2;
}

message ErrorMessage {
  enum Reason {
  	UNKNOWN = 0;
  	SERVER_ERROR = 1;
  	UNREADABLE_REQUEST = 2;
  	INVALID_REQUEST = 3;
  	BLOCK_COLLISION = 4;
  	OUTSIDE_OF_WORLD = 5;
  }
  enum Action {
  	FAIL_ACTION = 0;
  	RETRY_ACTION = 1;
  	EXIT_CLIENT = 2;
  }
  optional Reason reason = 1;
  optional Action action = 2;
  optional string message = 3;
}
